<%- include('./partials/header.ejs') %>
<div class="container profile-box mt-5 Larger shadow">
    <div class="container">
        <div class="row">
            <div class="col-lg-4 text-center profile-dp-section rounded">
                <img class="profile-dp" src="<%= user.imagePath %>"
                    width="150px"
                    height="150px" alt>
                <h1 class="mt-3 name">
                    <%= user.firstname %><%= " " + user.lastname%>
                </h1>
            </div>
            <div class="col-lg-8 rounded profile-form-section">
                <div class="card p-4">
                    <div class="profile-details">
                        <h1 class="fs-5">Profile Details</h1>
                        <div class="row">
                            <div class="col-lg-6">
                                <p><strong>First Name:</strong> <%=
                                    user.firstname %></p>
                            </div>
                            <div class="col-lg-6">
                                <p><strong>Last Name:</strong><%= user.lastname
                                    %></p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <p><strong>Email:</strong>
                                    <%= user.email %></p>
                            </div>
                            <div class="profile-actions">
                                <button type="button"
                                    class="btn btn-primary"
                                    data-bs-toggle="modal"
                                    data-bs-target="#exampleModal">Edit
                                    Profile</button>
                                <a href="/logout"><button type="button"
                                        class="btn btn-danger">Log
                                        Out</button></a>
                            </div>
                            <!-- <div class="text-right mt-2">
                                <a href="/delete"><button type="button"
                                        class="btn btn-danger delete-btn"><span
                                            class="delete-icon p-1"><i
                                                class="fa-solid fa-trash"></span></i>Delete
                                        Account</button></a>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal  -->
        <div class="modal fade" id="exampleModal" tabindex="-1"
            aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5"
                            id="exampleModalLabel">Edit
                            Profile</h1>
                        <button type="button" class="btn-close"
                            data-bs-dismiss="modal"
                            aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form action="/profile" method="POST"
                            enctype="multipart/form-data">
                            <div class="form-group">
                                <label for="firstName">First
                                    Name</label>
                                <input type="text" class="form-control"
                                    id="firstName"
                                    name="firstname"
                                    placeholder="<%= user.firstname %>"
                                    value="<%= user.firstname %>"
                                    required>
                            </div>
                            <div class="form-group">
                                <label for="lastName">Last Name</label>
                                <input type="text" class="form-control"
                                    id="lastName"
                                    name="lastname"
                                    placeholder="<%= user.lastname %>"
                                    value="<%= user.lastname %>"
                                    required>
                            </div>
                            <div class="form-group">
                                <label for="lastName">Email</label>
                                <input type="text" class="form-control"
                                    id="email"
                                    name="email"
                                    placeholder="gc"
                                    value="<%= user.email %>"
                                    required disabled>
                            </div>
                            <div
                                class="form-group profile-image-change mt-2">
                                <label
                                    for="productImage"><strong>Profile
                                        Image</strong></label>
                                <input type="file"
                                    class="form-control-file"
                                    id="profileImage"
                                    name="profileImage">
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button"
                                class="btn btn-secondary"
                                data-bs-dismiss="modal">Close</button>
                            <button type="submit"
                                class="btn btn-primary">Save</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <!-- Vertically centered modal -->

        <%- include('./partials/footer.ejs') %>

        <!-- Button trigger modal -->
        <!-- Modal -->
